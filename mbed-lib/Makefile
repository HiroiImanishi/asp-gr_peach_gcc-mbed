# This file was automagically generated by mbed.org. For more information, 
# see http://mbed.org/handbook/Exporting-to-GCC-ARM-Embedded

GCC_BIN =
LIB = libmbed
PROJECT = GR-PEACH_blinky
LINKER_SCRIPT = $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/TOOLCHAIN_GCC_ARM/RZA1H.ld

ASM_OBJ = $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/TOOLCHAIN_GCC_ARM/startup_RZ1AH.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TOOLCHAIN_GCC/TARGET_CORTEX_A/cache.o

C_OBJ = $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/RZ_A1_Init.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/gic.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/mbed_sf_boot.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/mmu_Renesas_RZ_A1.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/pl310.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/rza_io_regrw.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/system_MBRZA1H.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/cmsis_nvic.o $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/nvic_wrapper.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/analogin_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/ethernet_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/gpio_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/gpio_irq_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/i2c_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/pinmap.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/port_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/pwmout_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/rtc_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/serial_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/spi_api.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/us_ticker.o $(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H/can_api.o $(MBED_LIB_DIR)/mbed-src/common/assert.o $(MBED_LIB_DIR)/mbed-src/common/board.o $(MBED_LIB_DIR)/mbed-src/common/lp_ticker_api.o $(MBED_LIB_DIR)/mbed-src/common/error.o $(MBED_LIB_DIR)/mbed-src/common/gpio.o $(MBED_LIB_DIR)/mbed-src/common/mbed_interface.o $(MBED_LIB_DIR)/mbed-src/common/pinmap_common.o $(MBED_LIB_DIR)/mbed-src/common/rtc_time.o $(MBED_LIB_DIR)/mbed-src/common/semihost_api.o $(MBED_LIB_DIR)/mbed-src/common/us_ticker_api.o $(MBED_LIB_DIR)/mbed-src/common/wait_api.o $(MBED_LIB_DIR)/mbed-src/common/ticker_api.o

CXX_OBJ = $(MBED_LIB_DIR)/mbed-src/common/BusIn.o $(MBED_LIB_DIR)/mbed-src/common/BusInOut.o $(MBED_LIB_DIR)/mbed-src/common/BusOut.o $(MBED_LIB_DIR)/mbed-src/common/CAN.o $(MBED_LIB_DIR)/mbed-src/common/CallChain.o $(MBED_LIB_DIR)/mbed-src/common/Ethernet.o $(MBED_LIB_DIR)/mbed-src/common/FileBase.o $(MBED_LIB_DIR)/mbed-src/common/FileLike.o $(MBED_LIB_DIR)/mbed-src/common/FilePath.o $(MBED_LIB_DIR)/mbed-src/common/FileSystemLike.o $(MBED_LIB_DIR)/mbed-src/common/I2C.o $(MBED_LIB_DIR)/mbed-src/common/SPI.o $(MBED_LIB_DIR)/mbed-src/common/I2CSlave.o $(MBED_LIB_DIR)/mbed-src/common/InterruptIn.o $(MBED_LIB_DIR)/mbed-src/common/InterruptManager.o $(MBED_LIB_DIR)/mbed-src/common/LocalFileSystem.o $(MBED_LIB_DIR)/mbed-src/common/RawSerial.o $(MBED_LIB_DIR)/mbed-src/common/SerialBase.o $(MBED_LIB_DIR)/mbed-src/common/SPISlave.o $(MBED_LIB_DIR)/mbed-src/common/Serial.o $(MBED_LIB_DIR)/mbed-src/common/Stream.o $(MBED_LIB_DIR)/mbed-src/common/Timeout.o $(MBED_LIB_DIR)/mbed-src/common/TimerEvent.o $(MBED_LIB_DIR)/mbed-src/common/Timer.o $(MBED_LIB_DIR)/mbed-src/common/retarget.o $(MBED_LIB_DIR)/mbed-src/common/Ticker.o $(MBED_LIB_DIR)/SoftPWM/SoftPWM.o 

ALL_OBJ = $(ASM_OBJ) $(C_OBJ) $(CXX_OBJ)
INCLUDE_PATHS += -I. -I$(MBED_LIB_DIR)/SoftPWM -I$(MBED_LIB_DIR)/mbed-src -I$(MBED_LIB_DIR)/mbed-src/api -I$(MBED_LIB_DIR)/mbed-src/hal -I$(MBED_LIB_DIR)/mbed-src/targets -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/inc -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/inc/iobitmasks -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/inc/iodefines -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/TOOLCHAIN_GCC_ARM -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TOOLCHAIN_GCC -I$(MBED_LIB_DIR)/mbed-src/targets/cmsis/TOOLCHAIN_GCC/TARGET_CORTEX_A -I$(MBED_LIB_DIR)/mbed-src/targets/hal -I$(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS -I$(MBED_LIB_DIR)/mbed-src/targets/hal/TARGET_RENESAS/TARGET_RZ_A1H -I$(MBED_LIB_DIR)/mbed-src/common 
LIBRARY_PATHS = 
LIBRARIES = 
LINKER_SCRIPT = $(MBED_LIB_DIR)/mbed-src/targets/cmsis/TARGET_RENESAS/TARGET_RZ_A1H/TOOLCHAIN_GCC_ARM/RZA1H.ld

############################################################################### 
AS      = $(GCC_BIN)arm-none-eabi-as
CC      = $(GCC_BIN)arm-none-eabi-gcc
CPP     = $(GCC_BIN)arm-none-eabi-g++
LD      = $(GCC_BIN)arm-none-eabi-gcc
OBJCOPY = $(GCC_BIN)arm-none-eabi-objcopy
OBJDUMP = $(GCC_BIN)arm-none-eabi-objdump
SIZE    = $(GCC_BIN)arm-none-eabi-size 
AR = $(GCC_BIN)arm-none-eabi-ar
NM = $(GCC_BIN)arm-none-eabi-nm
RANLIB = $(GCC_BIN)arm-none-eabi-ranlib

CPU = -mcpu=cortex-a9 -mthumb -mthumb-interwork -marm -march=armv7-a -mfpu=vfpv3 -mfloat-abi=hard -mno-unaligned-access 
CC_FLAGS = $(CPU) -c -g -fno-common -fmessage-length=0 -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers
CC_FLAGS += -fno-exceptions -fno-builtin -ffunction-sections -fdata-sections -fno-delete-null-pointer-checks -fomit-frame-pointer
CC_FLAGS += -MMD -MP

CC_SYMBOLS = -DTARGET_RZ_A1H -DTARGET_MBRZA1H -DTARGET_FF_ARDUINO -DTOOLCHAIN_GCC_ARM -DTOOLCHAIN_GCC -DTARGET_CORTEX_A -DMBED_BUILD_TIMESTAMP=1458722901.8 -D__MBED__=1 -DTARGET_RENESAS -DTARGET_LIKE_MBED -D__MBED_CMSIS_RTOS_CA9 -D__EVAL -D__FPU_PRESENT -DTARGET_LIKE_CORTEX_A9 -D__CMSIS_RTOS -DTARGET_A9 -D__CORTEX_A9 -DARM_MATH_CA9 

#LD_FLAGS = $(CPU) -Wl,--gc-sections --specs=nano.specs -u _printf_float -u _scanf_float -Wl,--wrap,main -Wl,-Map=$(PROJECT).map,--cref
LD_FLAGS = $(CPU) -Wl,--gc-sections -nostartfiles --specs=nano.specs -u _printf_float -u _scanf_float -Wl,-Map=$(PROJECT).map,--cref
# LD_SYS_LIBS = -lstdc++ -lsupc++ -lm -lc -lgcc -lnosys
LD_SYS_LIBS = -lstdc++ -lsupc++ -lm -lc -lc -lgcc -lnosys

ifeq ($(DEBUG), 1)
  CC_FLAGS += -DDEBUG -O0
  ASM_FLAGS += -DDEBUG -O0 
else
  CC_FLAGS += -DNDEBUG -Os
endif

.PHONY: all clean

all: $(LIB).a

#clean:
#	rm -f $(LIB).lib $(ALL_OBJ) $(DEPS)

$(ASM_OBJ): %.o: %.S
	$(CC) $(CPU) $(ASM_FLAGS) -c -x assembler-with-cpp -o $@ $<

$(C_OBJ): %.o: %.c
	$(CC)  $(CC_FLAGS) $(CC_SYMBOLS) -std=gnu99   $(INCLUDE_PATHS) -o $@ $<

$(CXX_OBJ): %.o: %.cpp
	$(CPP) $(CC_FLAGS) $(CC_SYMBOLS) -std=gnu++98 -fno-rtti $(INCLUDE_PATHS) -o $@ $<

$(LIB).a: $(ALL_OBJ)
	rm -f $(LIB).a
	$(AR) -rcs $(LIB).a $(ALL_OBJ)
	$(RANLIB) $(LIB).a

DEPS = $(OBJECTS:.o=.d)
-include $(DEPS)
